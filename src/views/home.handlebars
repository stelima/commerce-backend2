<div>
  <a href="/realTimeProducts">Salvar um produto</a>
    <h3>Lista de produtos:</h3>
    <ul id="product-list"></ul>
</div>

<script src="/socket.io/socket.io.js"></script>
<script>

    const products = [
  {
    "id": 6,
    "title": "Camiseta",
    "description": "Camiseta básica preta",
    "price": 70,
    "thumbnail": "thumbnail1.jpg",
    "code": "ABC123",
    "stock": 15
  },
  {
    "id": 8,
    "title": "Camiseta",
    "description": "Camiseta básica preta",
    "price": 70,
    "thumbnail": "thumbnail1.jpg",
    "code": "ABC123",
    "stock": 15
  },
  {
    "id": 9,
    "title": "Calça",
    "description": "Calça jeans azul",
    "price": 100,
    "thumbnail": "thumbnail2.jpg",
    "code": "DEF456",
    "stock": 10
  },
  {
    "id": 11,
    "title": "Calça",
    "description": "Calça jeans azul",
    "price": 100,
    "thumbnail": "thumbnail2.jpg",
    "code": "DEF456",
    "stock": 10
  }
]

const socket = io();

let productList = document.getElementById('product-list');

    products.forEach(function(product) {
      let listItem = document.createElement('li');
      listItem.textContent = product.title;
      productList.appendChild(listItem);
    });

    socket.on('product', (data) => {
      console.log(data)
        const messages = document.getElementById('product-list');
        const message = document.createElement('li');
        message.innerText = data;
        messages.appendChild(message);
    });
</script>
